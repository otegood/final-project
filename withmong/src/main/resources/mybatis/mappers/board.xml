<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.withmong.dao.BoardDao">
	
	<!-- 공지사항 목록 -->
	<select id="noticeList" resultType="Notice">
		select
			no, title, regdate
		from
			notice_table
		order by
			regdate desc
	</select>
	
	<!-- 공지사항 등록 -->
	<insert id="addNotice" parameterType="Notice">
		insert into notice_table 
		(no, title, contents, regdate) 
		values 
		(notice_seq.nextval, #{title}, #{contents}, sysdate)
	</insert>
	
	<!-- 공지사항 상세페이지 -->
	<select id="noticeDetail" parameterType="int" resultType="Notice">
		select
			no, title, contents, regdate
		from
			notice_table
		where
			no = #{no}
	</select>
	
	<!-- 공지사항 삭제 -->
	<delete id="noticeDelete" parameterType="int">
		delete from 
			notice_table
		where 
			no = #{no}
	</delete>
	
	<!-- 공지사항 업데이트 -->
	<update id="updateNotice" parameterType="Notice">
		update 
			notice_table
		set
			title = #{title},
			contents = #{contents}
		where
			no = #{no}				
	</update>
	
	<!-- 요청게시판 목록조회 -->
	<select id="requestList" resultType="Request">
		select
			no, title, userid as "userId.id", regdate, delcheck
		from
			request_table
		order by
			regdate desc
	</select>
	
	<!-- 요청게시글 작성 -->
	<insert id="addRequest" parameterType="Request">
		insert into request_table
		(no, title, contents, userid, regdate) 
		values 
		(request_seq.nextval, #{title}, #{contents}, #{userId.id}, sysdate)
	</insert>
	
</mapper>